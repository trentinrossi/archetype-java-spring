-- Insert test data with proper relationships
-- This migration creates dummy records for testing purposes

-- Insert accounts (must be inserted first as cards and transactions reference account_id)
INSERT INTO accounts (account_id, current_balance, credit_limit, current_cycle_credit, current_cycle_debit, expiration_date) VALUES
(1001, 2543.75, 10000.00, 1250.50, 3794.25, '2026-12-31'),
(1002, 5420.30, 15000.00, 2340.75, 7761.05, '2027-06-30'),
(1003, 1234.56, 5000.00, 567.89, 1802.45, '2026-03-31'),
(1004, 0.00, 8000.00, 0.00, 0.00, '2025-09-30'),
(1005, 7890.12, 20000.00, 3456.78, 11346.90, '2028-12-31'),
(1006, 456.78, 3000.00, 123.45, 580.23, '2027-07-31'),
(1007, 3210.45, 12000.00, 1890.23, 5100.68, '2026-04-30'),
(1008, 9876.54, 25000.00, 4567.89, 14444.43, '2027-11-30');

-- Insert cards (must be before card_cross_reference and transactions)
INSERT INTO cards (card_number, status, card_details) VALUES
('4532123456789012', 'ACTIVE', 'Visa Classic - JOHN SMITH'),
('4532123456789013', 'ACTIVE', 'Visa Classic - JAMES TAYLOR'),
('5412345678901234', 'ACTIVE', 'Mastercard Gold - SARAH JOHNSON'),
('5412345678901235', 'ACTIVE', 'Mastercard Gold - PATRICIA ANDERSON'),
('4916789012345678', 'ACTIVE', 'Visa Platinum - MICHAEL WILLIAMS'),
('4916789012345679', 'INACTIVE', 'Visa Platinum - EMILY BROWN'),
('3782123456789012', 'ACTIVE', 'Amex Gold - DAVID JONES'),
('4532987654321098', 'ACTIVE', 'Visa Classic - JENNIFER DAVIS'),
('5412987654321098', 'ACTIVE', 'Mastercard Platinum - ROBERT MILLER'),
('4916987654321098', 'ACTIVE', 'Visa Signature - LISA WILSON');

-- Insert card_cross_reference (links cards to customers and accounts)
INSERT INTO card_cross_reference (card_number, account_id, customer_id) VALUES
('4532123456789012', 1001, 100001),
('4532123456789013', 1001, 100009),
('5412345678901234', 1002, 100002),
('5412345678901235', 1002, 100010),
('4916789012345678', 1003, 100003),
('4916789012345679', 1004, 100004),
('3782123456789012', 1005, 100005),
('4532987654321098', 1006, 100006),
('5412987654321098', 1007, 100007),
('4916987654321098', 1008, 100008);

-- Insert transactions
INSERT INTO transactions (transaction_id, card_number, type_code, category_code, source, description, amount, merchant_id, merchant_name, merchant_city, merchant_zip, original_timestamp, processing_timestamp) VALUES
-- Transactions for Account 1001
('TXN0000000000001', '4532123456789012', '01', '5411', 'POS', 'WHOLE FOODS MARKET', 156.78, 1001234567890, 'WHOLE FOODS #456', 'NEW YORK', '10001', '2024-11-01 10:23:45', '2024-11-01 10:23:50'),
('TXN0000000000002', '4532123456789012', '01', '5999', 'ONLINE', 'AMAZON.COM', 89.99, 1002345678901, 'AMAZON.COM', 'SEATTLE', '98101', '2024-11-01 14:15:22', '2024-11-01 14:15:25'),
('TXN0000000000003', '4532123456789013', '01', '5541', 'POS', 'SHELL GAS STATION', 65.43, 1003456789012, 'SHELL #8234', 'NEW YORK', '10002', '2024-11-02 08:45:12', '2024-11-02 08:45:15'),
('TXN0000000000004', '4532123456789012', '02', '6011', 'ATM', 'CASH WITHDRAWAL', 200.00, 1004567890123, 'CHASE ATM #1234', 'NEW YORK', '10001', '2024-11-02 18:30:00', '2024-11-02 18:30:05'),

-- Transactions for Account 1002
('TXN0000000000005', '5412345678901234', '01', '5999', 'POS', 'TARGET STORE', 234.56, 1005678901234, 'TARGET #1829', 'LOS ANGELES', '90210', '2024-11-01 11:20:33', '2024-11-01 11:20:38'),
('TXN0000000000006', '5412345678901234', '01', '5999', 'ONLINE', 'NORDSTROM.COM', 345.67, 1006789012345, 'NORDSTROM ONLINE', 'SEATTLE', '98101', '2024-11-01 16:45:19', '2024-11-01 16:45:22'),
('TXN0000000000007', '5412345678901235', '01', '5812', 'POS', 'STARBUCKS', 12.75, 1007890123456, 'STARBUCKS #5623', 'LOS ANGELES', '90210', '2024-11-02 09:15:44', '2024-11-02 09:15:47'),
('TXN0000000000008', '5412345678901234', '01', '5999', 'POS', 'APPLE STORE', 1299.99, 1008901234567, 'APPLE BEVERLY CENTER', 'LOS ANGELES', '90048', '2024-11-03 13:22:11', '2024-11-03 13:22:15'),

-- Transactions for Account 1003
('TXN0000000000009', '4916789012345678', '01', '5411', 'POS', 'JEWEL-OSCO', 87.34, 1009012345678, 'JEWEL-OSCO #2314', 'CHICAGO', '60601', '2024-11-01 15:40:28', '2024-11-01 15:40:32'),
('TXN0000000000010', '4916789012345678', '01', '5999', 'ONLINE', 'NETFLIX', 15.99, 1010123456789, 'NETFLIX.COM', 'LOS GATOS', '95032', '2024-11-01 20:00:00', '2024-11-01 20:00:05'),
('TXN0000000000011', '4916789012345678', '01', '5812', 'POS', 'UBER EATS', 45.60, 1011234567890, 'UBER EATS', 'CHICAGO', '60601', '2024-11-02 19:30:15', '2024-11-02 19:30:18'),

-- Transactions for Account 1005
('TXN0000000000012', '3782123456789012', '01', '5411', 'POS', 'PUBLIX SUPER MARKET', 198.45, 1012345678901, 'PUBLIX #1456', 'MIAMI', '33101', '2024-11-01 12:15:37', '2024-11-01 12:15:40'),
('TXN0000000000013', '3782123456789012', '01', '5999', 'ONLINE', 'BOOKING.COM', 567.89, 1013456789012, 'BOOKING.COM', 'AMSTERDAM', '1012', '2024-11-01 22:45:55', '2024-11-01 22:45:58'),
('TXN0000000000014', '3782123456789012', '02', '6011', 'ATM', 'CASH ADVANCE', 500.00, 1014567890123, 'BANK OF AMERICA ATM', 'MIAMI', '33101', '2024-11-02 14:20:00', '2024-11-02 14:20:05'),
('TXN0000000000015', '3782123456789012', '01', '5999', 'POS', 'DELTA AIR LINES', 842.00, 1015678901234, 'DELTA AIR LINES', 'ATLANTA', '30320', '2024-11-03 07:30:22', '2024-11-03 07:30:27'),

-- Transactions for Account 1006
('TXN0000000000016', '4532987654321098', '01', '5411', 'POS', 'TOM THUMB', 76.89, 1016789012345, 'TOM THUMB #8945', 'DALLAS', '75201', '2024-11-01 17:25:14', '2024-11-01 17:25:18'),
('TXN0000000000017', '4532987654321098', '01', '5999', 'ONLINE', 'SPOTIFY', 9.99, 1017890123456, 'SPOTIFY USA', 'NEW YORK', '10011', '2024-11-02 00:00:00', '2024-11-02 00:00:05'),

-- Transactions for Account 1007
('TXN0000000000018', '5412987654321098', '01', '5411', 'POS', 'SAFEWAY', 145.67, 1018901234567, 'SAFEWAY #2341', 'SEATTLE', '98101', '2024-11-01 13:50:42', '2024-11-01 13:50:46'),
('TXN0000000000019', '5412987654321098', '01', '5999', 'ONLINE', 'MICROSOFT STORE', 79.99, 1019012345678, 'MICROSOFT STORE', 'REDMOND', '98052', '2024-11-02 10:15:28', '2024-11-02 10:15:32'),
('TXN0000000000020', '5412987654321098', '01', '5999', 'POS', 'COSTCO WHOLESALE', 287.34, 1020123456789, 'COSTCO #456', 'SEATTLE', '98134', '2024-11-03 15:40:11', '2024-11-03 15:40:15'),

-- Transactions for Account 1008
('TXN0000000000021', '4916987654321098', '01', '5411', 'POS', 'STOP & SHOP', 123.45, 1021234567890, 'STOP & SHOP #3421', 'BOSTON', '02101', '2024-11-01 16:30:55', '2024-11-01 16:30:59'),
('TXN0000000000022', '4916987654321098', '01', '5999', 'ONLINE', 'DISNEY+', 7.99, 1022345678901, 'DISNEYPLUS.COM', 'BURBANK', '91521', '2024-11-02 00:00:00', '2024-11-02 00:00:05'),
('TXN0000000000023', '4916987654321098', '01', '5812', 'POS', 'DUNKIN DONUTS', 15.67, 1023456789012, 'DUNKIN #9876', 'BOSTON', '02101', '2024-11-02 07:45:33', '2024-11-02 07:45:36'),
('TXN0000000000024', '4916987654321098', '01', '5999', 'POS', 'HOME DEPOT', 456.78, 1024567890123, 'HOME DEPOT #4532', 'BOSTON', '02118', '2024-11-03 11:20:47', '2024-11-03 11:20:51'),

-- Additional transactions including payments and refunds
('TXN0000000000025', '4532123456789012', '03', '0000', 'ONLINE', 'PAYMENT RECEIVED', -500.00, 1000000000000, 'ONLINE PAYMENT', 'N/A', 'N/A', '2024-11-04 09:00:00', '2024-11-04 09:00:05'),
('TXN0000000000026', '5412345678901234', '04', '0000', 'POS', 'REFUND - RETURNED ITEM', -89.99, 1008901234567, 'APPLE BEVERLY CENTER', 'LOS ANGELES', '90048', '2024-11-04 14:30:00', '2024-11-04 14:30:05'),
('TXN0000000000027', '3782123456789012', '05', '0002', 'SYSTEM', 'ANNUAL FEE', 95.00, 1000000000001, 'CARD SERVICES', 'N/A', 'N/A', '2024-11-01 00:00:00', '2024-11-01 00:00:05');

-- Insert transaction_category_balances
INSERT INTO transaction_category_balances (account_id, type_code, category_code, balance) VALUES
-- Account 1001 balances
(1001, '01', '5411', 156.78),
(1001, '01', '5541', 65.43),
(1001, '01', '5999', 89.99),
(1001, '02', '6011', 200.00),
(1001, '03', '0000', -500.00),

-- Account 1002 balances
(1002, '01', '5812', 12.75),
(1002, '01', '5999', 1880.22),
(1002, '04', '0000', -89.99),

-- Account 1003 balances
(1003, '01', '5411', 87.34),
(1003, '01', '5812', 45.60),
(1003, '01', '5999', 15.99),

-- Account 1005 balances
(1005, '01', '5411', 198.45),
(1005, '01', '5999', 1409.89),
(1005, '02', '6011', 500.00),
(1005, '05', '0002', 95.00),

-- Account 1006 balances
(1006, '01', '5411', 76.89),
(1006, '01', '5999', 9.99),

-- Account 1007 balances
(1007, '01', '5411', 145.67),
(1007, '01', '5999', 367.33),

-- Account 1008 balances
(1008, '01', '5411', 123.45),
(1008, '01', '5812', 15.67),
(1008, '01', '5999', 464.77);
