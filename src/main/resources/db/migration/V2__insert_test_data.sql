-- Insert test data with proper relationships
-- This migration creates dummy records for testing purposes

-- Insert disclosure groups (must be inserted first as accounts reference group_id)
INSERT INTO disclosure_groups (account_group_id, transaction_type_code, transaction_category_code, interest_rate) VALUES
('GRP0001', '01', '0001', 15.99),
('GRP0001', '01', '0002', 18.99),
('GRP0001', '02', '0001', 21.99),
('GRP0001', '02', '0002', 23.99),
('GRP0002', '01', '0001', 12.99),
('GRP0002', '01', '0002', 14.99),
('GRP0002', '02', '0001', 19.99),
('GRP0002', '02', '0002', 20.99),
('GRP0003', '01', '0001', 16.99),
('GRP0003', '01', '0002', 19.99);

-- Insert accounts (must be before cards and transactions)
INSERT INTO accounts (account_id, active_status, current_balance, credit_limit, cash_credit_limit, open_date, expiration_date, reissue_date, current_cycle_credit, current_cycle_debit, address_zip_code, group_id) VALUES
('ACC00000001', 'Y', 2543.75, 10000.00, 2000.00, '2023-01-15', '2026-01-31', '2025-01-15', 1250.50, 3794.25, '10001', 'GRP0001'),
('ACC00000002', 'Y', 5420.30, 15000.00, 3000.00, '2022-06-10', '2025-06-30', '2024-06-10', 2340.75, 7761.05, '90210', 'GRP0001'),
('ACC00000003', 'Y', 1234.56, 5000.00, 1000.00, '2024-03-20', '2027-03-31', '2026-03-20', 567.89, 1802.45, '60601', 'GRP0002'),
('ACC00000004', 'N', 0.00, 8000.00, 1500.00, '2021-09-05', '2024-09-30', '2023-09-05', 0.00, 0.00, '94102', 'GRP0002'),
('ACC00000005', 'Y', 7890.12, 20000.00, 4000.00, '2020-12-01', '2025-12-31', '2024-12-01', 3456.78, 11346.90, '33101', 'GRP0003'),
('ACC00000006', 'Y', 456.78, 3000.00, 500.00, '2024-07-15', '2027-07-31', '2026-07-15', 123.45, 580.23, '75201', 'GRP0001'),
('ACC00000007', 'Y', 3210.45, 12000.00, 2500.00, '2023-04-22', '2026-04-30', '2025-04-22', 1890.23, 5100.68, '98101', 'GRP0002'),
('ACC00000008', 'Y', 9876.54, 25000.00, 5000.00, '2019-11-10', '2024-11-30', '2023-11-10', 4567.89, 14444.43, '02101', 'GRP0003');

-- Insert customers (must be before card_cross_references)
INSERT INTO customers (customer_id, first_name, middle_name, last_name, address_line_1, address_line_2, address_line_3, state_code, country_code, zip_code, phone_number_1, phone_number_2, ssn, government_issued_id, date_of_birth, eft_account_id, primary_cardholder_indicator, fico_credit_score) VALUES
('CUST00001', 'John', 'Michael', 'Smith', '123 Main Street', 'Apt 4B', NULL, 'NY', 'USA', '10001', '212-555-0101', '212-555-0102', '123456789', 'DL-NY-12345678', '1985-03-15', 'EFT0000001', 'Y', 750),
('CUST00002', 'Sarah', 'Anne', 'Johnson', '456 Oak Avenue', NULL, NULL, 'CA', 'USA', '90210', '310-555-0201', NULL, '234567890', 'DL-CA-23456789', '1990-07-22', 'EFT0000002', 'Y', 820),
('CUST00003', 'Michael', 'Robert', 'Williams', '789 Pine Road', 'Suite 100', NULL, 'IL', 'USA', '60601', '312-555-0301', '312-555-0302', '345678901', 'DL-IL-34567890', '1978-11-30', 'EFT0000003', 'Y', 680),
('CUST00004', 'Emily', 'Grace', 'Brown', '321 Elm Street', NULL, NULL, 'CA', 'USA', '94102', '415-555-0401', NULL, '456789012', 'DL-CA-45678901', '1995-01-08', 'EFT0000004', 'Y', 710),
('CUST00005', 'David', 'James', 'Jones', '654 Maple Drive', 'Unit 5C', NULL, 'FL', 'USA', '33101', '305-555-0501', '305-555-0502', '567890123', 'DL-FL-56789012', '1982-09-14', 'EFT0000005', 'Y', 790),
('CUST00006', 'Jennifer', 'Marie', 'Davis', '987 Cedar Lane', NULL, NULL, 'TX', 'USA', '75201', '214-555-0601', NULL, '678901234', 'DL-TX-67890123', '1988-05-20', 'EFT0000006', 'Y', 730),
('CUST00007', 'Robert', 'William', 'Miller', '147 Birch Court', 'Apt 2A', NULL, 'WA', 'USA', '98101', '206-555-0701', NULL, '789012345', 'DL-WA-78901234', '1975-12-03', 'EFT0000007', 'Y', 760),
('CUST00008', 'Lisa', 'Ann', 'Wilson', '258 Spruce Way', NULL, NULL, 'MA', 'USA', '02101', '617-555-0801', '617-555-0802', '890123456', 'DL-MA-89012345', '1992-08-17', 'EFT0000008', 'Y', 800),
('CUST00009', 'James', 'Thomas', 'Taylor', '369 Willow Street', NULL, NULL, 'NY', 'USA', '10001', '212-555-0901', NULL, '901234567', 'DL-NY-90123456', '1987-04-25', NULL, 'N', 720),
('CUST00010', 'Patricia', 'Lynn', 'Anderson', '741 Ash Boulevard', 'Unit 10', NULL, 'CA', 'USA', '90210', '310-555-1001', NULL, '012345678', 'DL-CA-01234567', '1993-10-11', 'EFT0000010', 'N', 740);

-- Insert cards (must be before transactions and card_cross_references)
INSERT INTO cards (card_number, account_id, cvv_code, embossed_name, expiration_date, active_status) VALUES
('4532123456789012', 'ACC00000001', '123', 'JOHN M SMITH', '2026-01-31', 'Y'),
('4532123456789013', 'ACC00000001', '456', 'JAMES T TAYLOR', '2026-01-31', 'Y'),
('5412345678901234', 'ACC00000002', '234', 'SARAH A JOHNSON', '2025-06-30', 'Y'),
('5412345678901235', 'ACC00000002', '567', 'PATRICIA L ANDERSON', '2025-06-30', 'Y'),
('4916789012345678', 'ACC00000003', '345', 'MICHAEL R WILLIAMS', '2027-03-31', 'Y'),
('4916789012345679', 'ACC00000004', '456', 'EMILY G BROWN', '2024-09-30', 'N'),
('3782123456789012', 'ACC00000005', '567', 'DAVID J JONES', '2025-12-31', 'Y'),
('4532987654321098', 'ACC00000006', '789', 'JENNIFER M DAVIS', '2027-07-31', 'Y'),
('5412987654321098', 'ACC00000007', '890', 'ROBERT W MILLER', '2026-04-30', 'Y'),
('4916987654321098', 'ACC00000008', '901', 'LISA A WILSON', '2024-11-30', 'Y');

-- Insert card_cross_references (links cards to customers and accounts)
INSERT INTO card_cross_references (card_number, customer_id, account_id) VALUES
('4532123456789012', 'CUST00001', 'ACC00000001'),
('4532123456789013', 'CUST00009', 'ACC00000001'),
('5412345678901234', 'CUST00002', 'ACC00000002'),
('5412345678901235', 'CUST00010', 'ACC00000002'),
('4916789012345678', 'CUST00003', 'ACC00000003'),
('4916789012345679', 'CUST00004', 'ACC00000004'),
('3782123456789012', 'CUST00005', 'ACC00000005'),
('4532987654321098', 'CUST00006', 'ACC00000006'),
('5412987654321098', 'CUST00007', 'ACC00000007'),
('4916987654321098', 'CUST00008', 'ACC00000008');

-- Insert transactions
INSERT INTO transactions (transaction_id, card_number, account_id, transaction_type_code, transaction_category_code, transaction_source, transaction_description, transaction_amount, merchant_id, merchant_name, merchant_city, merchant_zip, original_timestamp, processing_timestamp) VALUES
-- Transactions for ACC00000001
('TXN0000000000001', '4532123456789012', 'ACC00000001', '01', '0001', 'POS', 'WHOLE FOODS MARKET', 156.78, 1001234567890, 'WHOLE FOODS #456', 'NEW YORK', '10001', '2024-11-01 10:23:45', '2024-11-01 10:23:50'),
('TXN0000000000002', '4532123456789012', 'ACC00000001', '01', '0002', 'ONLINE', 'AMAZON.COM', 89.99, 1002345678901, 'AMAZON.COM', 'SEATTLE', '98101', '2024-11-01 14:15:22', '2024-11-01 14:15:25'),
('TXN0000000000003', '4532123456789013', 'ACC00000001', '01', '0001', 'POS', 'SHELL GAS STATION', 65.43, 1003456789012, 'SHELL #8234', 'NEW YORK', '10002', '2024-11-02 08:45:12', '2024-11-02 08:45:15'),
('TXN0000000000004', '4532123456789012', 'ACC00000001', '02', '0001', 'ATM', 'CASH WITHDRAWAL', 200.00, 1004567890123, 'CHASE ATM #1234', 'NEW YORK', '10001', '2024-11-02 18:30:00', '2024-11-02 18:30:05'),

-- Transactions for ACC00000002
('TXN0000000000005', '5412345678901234', 'ACC00000002', '01', '0001', 'POS', 'TARGET STORE', 234.56, 1005678901234, 'TARGET #1829', 'BEVERLY HILLS', '90210', '2024-11-01 11:20:33', '2024-11-01 11:20:38'),
('TXN0000000000006', '5412345678901234', 'ACC00000002', '01', '0002', 'ONLINE', 'NORDSTROM.COM', 345.67, 1006789012345, 'NORDSTROM ONLINE', 'SEATTLE', '98101', '2024-11-01 16:45:19', '2024-11-01 16:45:22'),
('TXN0000000000007', '5412345678901235', 'ACC00000002', '01', '0001', 'POS', 'STARBUCKS', 12.75, 1007890123456, 'STARBUCKS #5623', 'BEVERLY HILLS', '90210', '2024-11-02 09:15:44', '2024-11-02 09:15:47'),
('TXN0000000000008', '5412345678901234', 'ACC00000002', '01', '0001', 'POS', 'APPLE STORE', 1299.99, 1008901234567, 'APPLE BEVERLY CENTER', 'LOS ANGELES', '90048', '2024-11-03 13:22:11', '2024-11-03 13:22:15'),

-- Transactions for ACC00000003
('TXN0000000000009', '4916789012345678', 'ACC00000003', '01', '0001', 'POS', 'JEWEL-OSCO', 87.34, 1009012345678, 'JEWEL-OSCO #2314', 'CHICAGO', '60601', '2024-11-01 15:40:28', '2024-11-01 15:40:32'),
('TXN0000000000010', '4916789012345678', 'ACC00000003', '01', '0002', 'ONLINE', 'NETFLIX', 15.99, 1010123456789, 'NETFLIX.COM', 'LOS GATOS', '95032', '2024-11-01 20:00:00', '2024-11-01 20:00:05'),
('TXN0000000000011', '4916789012345678', 'ACC00000003', '01', '0001', 'POS', 'UBER EATS', 45.60, 1011234567890, 'UBER EATS', 'CHICAGO', '60601', '2024-11-02 19:30:15', '2024-11-02 19:30:18'),

-- Transactions for ACC00000005
('TXN0000000000012', '3782123456789012', 'ACC00000005', '01', '0001', 'POS', 'PUBLIX SUPER MARKET', 198.45, 1012345678901, 'PUBLIX #1456', 'MIAMI', '33101', '2024-11-01 12:15:37', '2024-11-01 12:15:40'),
('TXN0000000000013', '3782123456789012', 'ACC00000005', '01', '0002', 'ONLINE', 'BOOKING.COM', 567.89, 1013456789012, 'BOOKING.COM', 'AMSTERDAM', '1012', '2024-11-01 22:45:55', '2024-11-01 22:45:58'),
('TXN0000000000014', '3782123456789012', 'ACC00000005', '02', '0001', 'ATM', 'CASH ADVANCE', 500.00, 1014567890123, 'BANK OF AMERICA ATM', 'MIAMI', '33101', '2024-11-02 14:20:00', '2024-11-02 14:20:05'),
('TXN0000000000015', '3782123456789012', 'ACC00000005', '01', '0001', 'POS', 'DELTA AIR LINES', 842.00, 1015678901234, 'DELTA AIR LINES', 'ATLANTA', '30320', '2024-11-03 07:30:22', '2024-11-03 07:30:27'),

-- Transactions for ACC00000006
('TXN0000000000016', '4532987654321098', 'ACC00000006', '01', '0001', 'POS', 'TOM THUMB', 76.89, 1016789012345, 'TOM THUMB #8945', 'DALLAS', '75201', '2024-11-01 17:25:14', '2024-11-01 17:25:18'),
('TXN0000000000017', '4532987654321098', 'ACC00000006', '01', '0002', 'ONLINE', 'SPOTIFY', 9.99, 1017890123456, 'SPOTIFY USA', 'NEW YORK', '10011', '2024-11-02 00:00:00', '2024-11-02 00:00:05'),

-- Transactions for ACC00000007
('TXN0000000000018', '5412987654321098', 'ACC00000007', '01', '0001', 'POS', 'SAFEWAY', 145.67, 1018901234567, 'SAFEWAY #2341', 'SEATTLE', '98101', '2024-11-01 13:50:42', '2024-11-01 13:50:46'),
('TXN0000000000019', '5412987654321098', 'ACC00000007', '01', '0002', 'ONLINE', 'MICROSOFT STORE', 79.99, 1019012345678, 'MICROSOFT STORE', 'REDMOND', '98052', '2024-11-02 10:15:28', '2024-11-02 10:15:32'),
('TXN0000000000020', '5412987654321098', 'ACC00000007', '01', '0001', 'POS', 'COSTCO WHOLESALE', 287.34, 1020123456789, 'COSTCO #456', 'SEATTLE', '98134', '2024-11-03 15:40:11', '2024-11-03 15:40:15'),

-- Transactions for ACC00000008
('TXN0000000000021', '4916987654321098', 'ACC00000008', '01', '0001', 'POS', 'STOP & SHOP', 123.45, 1021234567890, 'STOP & SHOP #3421', 'BOSTON', '02101', '2024-11-01 16:30:55', '2024-11-01 16:30:59'),
('TXN0000000000022', '4916987654321098', 'ACC00000008', '01', '0002', 'ONLINE', 'DISNEY+', 7.99, 1022345678901, 'DISNEYPLUS.COM', 'BURBANK', '91521', '2024-11-02 00:00:00', '2024-11-02 00:00:05'),
('TXN0000000000023', '4916987654321098', 'ACC00000008', '01', '0001', 'POS', 'DUNKIN DONUTS', 15.67, 1023456789012, 'DUNKIN #9876', 'BOSTON', '02101', '2024-11-02 07:45:33', '2024-11-02 07:45:36'),
('TXN0000000000024', '4916987654321098', 'ACC00000008', '01', '0001', 'POS', 'HOME DEPOT', 456.78, 1024567890123, 'HOME DEPOT #4532', 'BOSTON', '02118', '2024-11-03 11:20:47', '2024-11-03 11:20:51');

-- Insert transaction_category_balances
INSERT INTO transaction_category_balances (account_id, transaction_type_code, transaction_category_code, balance) VALUES
-- Account 1 balances
('ACC00000001', '01', '0001', 222.21),
('ACC00000001', '01', '0002', 89.99),
('ACC00000001', '02', '0001', 200.00),
-- Account 2 balances
('ACC00000002', '01', '0001', 1795.05),
('ACC00000002', '01', '0002', 345.67),
-- Account 3 balances
('ACC00000003', '01', '0001', 132.94),
('ACC00000003', '01', '0002', 15.99),
-- Account 5 balances
('ACC00000005', '01', '0001', 1239.45),
('ACC00000005', '01', '0002', 567.89),
('ACC00000005', '02', '0001', 500.00),
-- Account 6 balances
('ACC00000006', '01', '0001', 76.89),
('ACC00000006', '01', '0002', 9.99),
-- Account 7 balances
('ACC00000007', '01', '0001', 433.01),
('ACC00000007', '01', '0002', 79.99),
-- Account 8 balances
('ACC00000008', '01', '0001', 595.90),
('ACC00000008', '01', '0002', 7.99);

-- Add comments for test data
COMMENT ON TABLE accounts IS 'Test data contains 8 accounts with various statuses and credit limits';
COMMENT ON TABLE customers IS 'Test data contains 10 customers from different states';
COMMENT ON TABLE cards IS 'Test data contains 10 cards linked to accounts, some accounts have multiple cards';
COMMENT ON TABLE transactions IS 'Test data contains 24 transactions across different accounts, transaction types, and merchants';
